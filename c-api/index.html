<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wasmtime: Wasmtime C API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wasmtime
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Wasmtime C API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This documentation is an overview and API reference for the C API of Wasmtime. The C API is spread between three different header files:</p>
<ul>
<li><a class="el" href="wasm_8h.html">wasm.h</a></li>
<li><a class="el" href="wasi_8h.html">wasi.h</a></li>
<li><a class="el" href="wasmtime_8h.html">wasmtime.h</a></li>
</ul>
<p>The <a class="el" href="wasm_8h.html">wasm.h</a> header file comes directly from the <a href="https://github.com/WebAssembly/wasm-c-api">WebAssembly/wasm-c-api</a> repository. At this time the upstream header file does not have documentation so Wasmtime provides documentation here. It should be noted, however, that some semantics may be Wasmtime-specific and may not be portable to other engines. The Wasmtime project intends to assist in the development of the upstream C API.</p>
<p>The <a class="el" href="wasi_8h.html">wasi.h</a> and <a class="el" href="wasmtime_8h.html">wasmtime.h</a> header files are specific to the Wasmtime project. It's hoped to standardize <a class="el" href="wasi_8h.html">wasi.h</a> in the WASI standard eventually, but <a class="el" href="wasmtime_8h.html">wasmtime.h</a> provides Wasmtime-specific extensions to the C API which are not intended to standardize.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
Installing the C API</h2>
<p>To install the C API from precompiled binaries you can download the appropriate binary from the <a href="https://github.com/bytecodealliance/wasmtime/releases">releases page of Wasmtime</a>. Artifacts for the C API all end in "-c-api" for the filename.</p>
<p>Each archive contains an <code>include</code> directory with necessary headers, as well as a <code>lib</code> directory with both a static archive and a dynamic library of Wasmtime. You can link to either of them as you see fit.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Linking against the C API</h2>
<p>You'll want to arrange the <code>include</code> directory of the C API to be in your compiler's header path (e.g. the <code>-I</code> flag). If you're compiling for Windows and you're using the static library then you'll also need to pass <code>-DWASM_API_EXTERN=</code> and <code>-DWASI_API_EXTERN=</code> to disable dllimport.</p>
<p>Your final artifact can then be linked with <code>-lwasmtime</code>. If you're linking against the static library you may need to pass other system libraries depending on your platform:</p>
<ul>
<li>Linux - <code>-lpthread -ldl -lm</code></li>
<li>macOS - no extra flags needed</li>
<li>Windows - <code>ws2_32.lib advapi32.lib userenv.lib ntdll.lib shell32.lib ole32.lib</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Building from Source</h2>
<p>The C API is located in the <a href="https://github.com/bytecodealliance/wasmtime/tree/main/crates/c-api"><code>crates/c-api</code></a> directory of the <a href="https://github.com/bytecodealliance/wasmtime">Wasmtime repository</a>. To build from source you'll need a Rust compiler and a checkout of the <code>wasmtime</code> project. Afterwards you can execute:</p>
<div class="fragment"><div class="line">$ cargo build --release -p wasmtime-c-api</div>
</div><!-- fragment --><p>This will place the final artifacts in <code>target/release</code>, with names depending on what platform you're compiling for.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Other resources</h2>
<p>Some other handy resources you might find useful when exploring the C API documentation are:</p>
<ul>
<li><a href="https://bytecodealliance.github.io/wasmtime/api/wasmtime/">Rust <code>wasmtime</code> crate documentation</a> - although this documentation is for Rust and not C, you'll find that many functions mirror one another and there may be extra documentation in Rust you find helpful. If you find yourself having to frequently do this, though, please feel free to <a href="https://github.com/bytecodealliance/wasmtime/issues/new">file an issue</a>.</li>
<li><a href="https://bytecodealliance.github.io/wasmtime/examples-c-embed.html">C embedding examples</a> are available online and are tested from the Wasmtime repository itself.</li>
<li><a href="https://bytecodealliance.github.io/wasmtime/contributing.html">Contribution documentation for Wasmtime</a> in case you're interested in helping out! </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
